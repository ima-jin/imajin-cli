# ðŸš€ Working Multi-Service Examples

**Actual CLI Tools Generated by imajin-cli**

## Overview

This document showcases real multi-service CLI tools that demonstrate imajin-cli's unique value proposition: **business workflow automation across multiple services** that's impossible with single-service CLIs or generic middleware.

---

## Example 1: E-commerce Store CLI

### Business Context
**Company**: Mid-size e-commerce retailer  
**Services Used**: Stripe (payments), Shopify (inventory), Mailchimp (marketing), SendGrid (transactional emails)  
**Problem**: Customer onboarding requires 15+ manual steps across 4 different dashboards

### Generated CLI: `acme-store-cli`

**Installation**:
```bash
# Generated by imajin-cli from business context
npm install -g ./acme-store-cli
acme-store-cli auth:setup  # One-time credential setup for all services
```

**Multi-Service Commands**:

#### Customer Onboarding
```bash
# Single command replaces 15+ manual steps
acme-store-cli customer:onboard \
  --email john@enterprise.com \
  --plan "Enterprise" \
  --welcome-sequence \
  --priority-support

# Behind the scenes:
# âœ… Creates Stripe customer with Enterprise plan
# âœ… Adds to Mailchimp "Enterprise" audience
# âœ… Creates Shopify customer with B2B pricing
# âœ… Sends welcome email via SendGrid with onboarding checklist
# âœ… Assigns priority support tag across all systems
# âœ… Returns unified customer record with all service IDs
```

**Output**:
```json
{
  "success": true,
  "customer_id": "cus_enterprise_abc123",
  "services": {
    "stripe": { "id": "cus_NvdexK2M1J", "plan": "Enterprise" },
    "shopify": { "id": "6789", "pricing_tier": "B2B" },
    "mailchimp": { "id": "abc123", "audience": "Enterprise" },
    "sendgrid": { "contact_id": "xyz789", "lists": ["Enterprise", "Priority"] }
  },
  "next_steps": [
    "Customer will receive welcome email in 2 minutes",
    "Onboarding checklist created in CRM",
    "Priority support queue notified"
  ]
}
```

#### Order Fulfillment
```bash
# Complex fulfillment workflow across multiple systems
acme-store-cli order:fulfill \
  --order-id 12345 \
  --expedited-shipping \
  --notify-customer \
  --update-inventory

# Cross-service workflow:
# âœ… Validates inventory in Shopify
# âœ… Processes payment in Stripe
# âœ… Creates shipping label via ShipStation
# âœ… Sends shipping confirmation via SendGrid
# âœ… Updates inventory levels
# âœ… Triggers post-purchase email sequence in Mailchimp
```

### Implementation Details

**Multi-Service Transaction**:
```typescript
// customer:onboard implementation
export class CustomerOnboardCommand {
  async execute(email: string, plan: string, options: OnboardOptions) {
    const transaction = new MultiServiceTransaction();
    
    try {
      // Step 1: Create Stripe customer
      const stripeCustomer = await transaction.execute('stripe', {
        operation: 'customers.create',
        data: { 
          email, 
          metadata: { plan, source: 'cli_onboarding' }
        }
      });
      
      // Step 2: Add to Shopify with B2B pricing
      const shopifyCustomer = await transaction.execute('shopify', {
        operation: 'customers.create',
        data: {
          email,
          tags: [plan, 'cli_onboarded'],
          note: `Stripe ID: ${stripeCustomer.id}`
        }
      });
      
      // Step 3: Marketing automation setup
      const mailchimpContact = await transaction.execute('mailchimp', {
        operation: 'lists.add_member',
        data: {
          email,
          tags: [plan],
          merge_fields: {
            STRIPE_ID: stripeCustomer.id,
            SHOPIFY_ID: shopifyCustomer.id
          }
        }
      });
      
      // Step 4: Transactional email setup
      await transaction.execute('sendgrid', {
        operation: 'contacts.put',
        data: {
          email,
          custom_fields: {
            plan,
            stripe_id: stripeCustomer.id,
            onboarding_stage: 'welcome'
          }
        }
      });
      
      // Step 5: Send welcome email
      await transaction.execute('sendgrid', {
        operation: 'mail.send',
        data: {
          template_id: 'enterprise_welcome',
          to: email,
          dynamic_template_data: {
            plan,
            customer_id: stripeCustomer.id,
            shopify_customer_id: shopifyCustomer.id
          }
        }
      });
      
      await transaction.commit();
      
      return {
        success: true,
        customer_id: `cus_enterprise_${stripeCustomer.id.slice(-6)}`,
        services: {
          stripe: { id: stripeCustomer.id, plan },
          shopify: { id: shopifyCustomer.id, pricing_tier: 'B2B' },
          mailchimp: { id: mailchimpContact.id, audience: plan },
          sendgrid: { contact_id: 'created', lists: [plan, 'Priority'] }
        }
      };
      
    } catch (error) {
      await transaction.rollback();
      throw new MultiServiceError('Customer onboarding failed', error);
    }
  }
}
```

---

## Example 2: Content Publishing CLI

### Business Context
**Company**: Digital marketing agency  
**Services Used**: Notion (content creation), Cloudinary (media), Twitter/LinkedIn (distribution), Google Analytics (tracking)  
**Problem**: Publishing content requires 30+ minutes across 5 different platforms

### Generated CLI: `agency-content-cli`

**Multi-Service Commands**:

#### Content Publishing
```bash
# Single command for complete content publishing workflow
agency-content-cli post:publish \
  --notion-page "Client_ABC_Blog_Post_Q4" \
  --schedule "2024-01-15 09:00 EST" \
  --channels "twitter,linkedin" \
  --optimize-images \
  --track-performance

# Cross-service workflow:
# âœ… Exports content from Notion page
# âœ… Optimizes images via Cloudinary
# âœ… Schedules posts to Twitter and LinkedIn
# âœ… Sets up Google Analytics campaign tracking
# âœ… Updates content calendar in Notion
# âœ… Creates performance tracking dashboard
```

**Output Example**:
```json
{
  "success": true,
  "content_id": "content_abc_blog_q4",
  "scheduled_posts": [
    {
      "platform": "twitter",
      "post_id": "tw_123456",
      "scheduled_for": "2024-01-15T14:00:00Z",
      "tracking_url": "https://bit.ly/abc-blog-tw"
    },
    {
      "platform": "linkedin", 
      "post_id": "li_789012",
      "scheduled_for": "2024-01-15T14:00:00Z",
      "tracking_url": "https://bit.ly/abc-blog-li"
    }
  ],
  "media_optimized": 3,
  "analytics_setup": true,
  "performance_dashboard": "https://analytics.google.com/dashboard/abc-q4"
}
```

#### Campaign Analysis
```bash
# Multi-platform performance analysis
agency-content-cli campaign:analyze \
  --content-id "content_abc_blog_q4" \
  --period "7d" \
  --include-engagement \
  --export-report

# Aggregates data from:
# âœ… Twitter Analytics
# âœ… LinkedIn Analytics  
# âœ… Google Analytics
# âœ… Cloudinary delivery stats
# âœ… Updates Notion campaign tracker
```

---

## Example 3: SaaS Operations CLI

### Business Context
**Company**: B2B SaaS startup  
**Services Used**: Stripe (billing), Intercom (support), HubSpot (CRM), Slack (internal notifications)  
**Problem**: Customer lifecycle management scattered across multiple tools

### Generated CLI: `saas-ops-cli`

**Multi-Service Commands**:

#### Customer Health Check
```bash
# Comprehensive customer health analysis across all systems
saas-ops-cli customer:health-check \
  --customer-id "acme_corp" \
  --include-billing \
  --include-support \
  --include-usage \
  --alert-team

# Cross-service analysis:
# âœ… Billing status from Stripe
# âœ… Support ticket analysis from Intercom
# âœ… Usage metrics from internal API
# âœ… Account health score in HubSpot
# âœ… Slack alert if action needed
```

#### Churn Prevention
```bash
# Automated churn prevention workflow
saas-ops-cli customer:churn-prevention \
  --at-risk-threshold 0.7 \
  --auto-outreach \
  --retention-offer \
  --notify-account-manager

# Multi-service intervention:
# âœ… Identifies at-risk customers across all systems
# âœ… Creates Intercom campaign for outreach
# âœ… Generates retention offer in Stripe
# âœ… Updates HubSpot with intervention strategy
# âœ… Notifies account manager via Slack
```

---

## Why These Examples Prove Unique Value

### Impossible with Single-Service CLIs

**Current Reality**:
```bash
# Customer onboarding with separate CLIs (15+ commands)
stripe customers create --email john@acme.com
shopify customers create --email john@acme.com --tags Enterprise
mailchimp lists add-member --list-id 123 --email john@acme.com
# ... 12+ more commands with manual ID coordination
```

**imajin-cli Solution**:
```bash
# Single command with cross-service coordination
acme-store-cli customer:onboard --email john@acme.com --plan Enterprise
```

### Impossible with Generic Middleware

**Zapier Limitations**:
- Generic webhooks, not business-context-aware
- No CLI interface for developers
- Subscription costs scale with usage
- No version control or scriptability

**imajin-cli Advantages**:
- Business-domain-specific commands
- Developer-native CLI tooling
- Owned tools with zero ongoing costs
- Full scriptability and automation

### Technical Differentiators

**Cross-Service State Management**:
- Universal Elements maintain consistent identity across services
- Automatic rollback if any service fails
- Unified error handling and recovery

**Business Context Mapping**:
- Commands understand business workflows, not just technical APIs
- Domain-specific language that matches business operations
- Enterprise patterns built into every generated command

---

## Getting Started

### Generate Your Own Multi-Service CLI

```bash
# 1. Install imajin-cli
npm install -g @imajin/cli

# 2. Initialize business context
imajin context:init --interactive

# 3. Generate your business CLI
imajin generate:business-cli --context ./business-context.json

# 4. Set up service credentials
your-business-cli auth:setup

# 5. Start automating multi-service workflows
your-business-cli customer:onboard --email test@example.com
```

### Business Context Examples

**E-commerce**:
```json
{
  "businessType": "E-commerce",
  "services": ["stripe", "shopify", "mailchimp", "sendgrid"],
  "workflows": ["customer:onboard", "order:fulfill", "inventory:sync"],
  "keyEntities": ["Customer", "Order", "Product", "Inventory"]
}
```

**SaaS**:
```json
{
  "businessType": "B2B SaaS",
  "services": ["stripe", "intercom", "hubspot", "slack"],
  "workflows": ["customer:health-check", "churn:prevention", "account:upgrade"],
  "keyEntities": ["Account", "User", "Subscription", "Feature"]
}
```

**Agency**:
```json  
{
  "businessType": "Digital Agency",
  "services": ["notion", "cloudinary", "twitter", "linkedin", "analytics"],
  "workflows": ["content:publish", "campaign:analyze", "client:report"],
  "keyEntities": ["Content", "Campaign", "Client", "Performance"]
}
```

---

**These working examples demonstrate that imajin-cli solves real business workflow automation problems that are impossible to address with single-service CLIs or generic middleware platforms.** 